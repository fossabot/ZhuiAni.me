import useSWR, { SWRConfiguration, MutatorOptions, mutate } from "swr";

<%~ includeFile("@default/api.eta", it) %>

const api = new Api();
export default api;

export const fetcher = async (arg: string | [string, Record<string, string>]) => {
  const [url, params] = typeof arg === "string" ? [arg, {}] : arg;
  return await api.request({ path: url, query: params })
    .then((res) => res.data)
    .catch((err) => {
      throw err.response.data;
    });
};
